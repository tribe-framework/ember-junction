<div class="mb-3" {{did-insert this.isModuleAlsoAType}}>

  {{#if @module.input_multiple}}

      <PowerSelectMultiple
        class="form-control"
        @selected={{this.selectedMultiOptions}}
        @searchEnabled={{true}}
        @searchField="title"
        @placeholder={{@module.input_placeholder}}
        @options={{this.options}}
        @dropdownClass="in-modal-dropdown"
        @onChange={{this.updateMultiValue}} as |opt|>
        {{#if (eq opt.type "user")}}
          {{opt.name}}
        {{else}}
          {{opt.title}}
        {{/if}}
      </PowerSelectMultiple>

  {{else}}

      <PowerSelect
        class="form-control"
        @selected={{this.selectedOption}}
        @searchEnabled={{true}}
        @searchField="title"
        @placeholder={{@module.input_placeholder}}
        @options={{this.options}}
        @dropdownClass="in-modal-dropdown"
        @onChange={{this.updateValue}} as |opt|>
        {{#if (eq opt.type "user")}}
          {{opt.name}}
        {{else}}
          {{opt.title}}
        {{/if}}
      </PowerSelect>

  {{/if}}

  <div class="form-text text-end">{{if @module.input_placeholder @module.input_placeholder (concat "Enter " @module.input_slug)}}</div>

  {{#if (eq @id "new")}}
    <div class="d-none" {{did-insert this.cleanVarsOnNewModalOpen}}></div>
  {{/if}}

  {{#if (eq @id "multi")}}
    <div class="d-none" {{did-insert this.cleanVarsOnMultiModalOpen}}></div>
  {{/if}}
</div>
